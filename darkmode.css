/* ==========================================
   DARKMODE.CSS - CSS ONLY IMPLEMENTATION
   ========================================== */

/* We use the :has() pseudo-class to check if the #theme-switch checkbox 
   at the start of the body is checked. This effectively replaces the JS
   logic of checking for the data-theme attribute.
*/

body:has(#theme-switch:checked) {
  /* Primary backgrounds */
  --bg: #0f172a;           /* Deep navy - primary background */
  --card: #1e293b;         /* Elevated slate - card background */
  --accent: #f1f5f9;       /* Light slate - primary text */
  --accent-2: #818cf8;     /* Brighter indigo - primary accent */
  
  /* Secondary colors */
  --glass: rgba(148, 163, 184, 0.08);  /* Subtle glass effect */
  --muted: #94a3b8;        /* Muted slate - secondary text */
  --border: rgba(148, 163, 184, 0.12); /* Subtle borders */
  --hover: #334155;        /* Hover state */
  
  /* Gradient accents */
  --gradient-start: #4f46e5;
  --gradient-end: #7c3aed;
}

/* Update Toggle Icon Logic */
/* 1. Hide the original Moon */
body:has(#theme-switch:checked) .theme-icon {
    font-size: 0; /* Hides text content */
}

/* 2. Show the Sun using pseudo-element */
body:has(#theme-switch:checked) .theme-icon::before {
    content: "☀️";
    font-size: 18px; /* Restore size */
    line-height: 1; /* Fix vertical alignment */
    display: block; /* Ensure it behaves like a block to fill space */
}


/* Header with dark gradient */
body:has(#theme-switch:checked) header {
  background: linear-gradient(90deg, #1e3a8a 0%, #3730a3 48.75%, #4c1d95 100%);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}

/* Cards with elevated appearance */
body:has(#theme-switch:checked) .card {
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

body:has(#theme-switch:checked) .card:hover {
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.4),
              0 0 0 1px rgba(129, 140, 248, 0.1);
  border-color: rgba(129, 140, 248, 0.2);
}

/* Text colors */
body:has(#theme-switch:checked) .muted {
  color: var(--muted);
}

body:has(#theme-switch:checked) h1,
body:has(#theme-switch:checked) h2,
body:has(#theme-switch:checked) strong {
  color: var(--accent);
}

/* Logo background */
body:has(#theme-switch:checked) .logo {
  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
}

/* Navigation links */
body:has(#theme-switch:checked) nav a {
  color: rgba(241, 245, 249, 0.9);
}

body:has(#theme-switch:checked) nav a:hover {
  color: var(--accent-2);
}

body:has(#theme-switch:checked) nav a::after {
  background: var(--accent-2);
}

/* FIXED: Social icons - Bluish tint for dark mode */
body:has(#theme-switch:checked) .socials img {
  filter: invert(1) sepia(1) saturate(3) hue-rotate(190deg) brightness(0.9);
  opacity: 1;
}

body:has(#theme-switch:checked) .socials a:hover img {
  filter: invert(1) sepia(1) saturate(3) hue-rotate(190deg) brightness(1.1) drop-shadow(0 0 8px rgba(129, 140, 248, 0.6));
}

/* Buttons */
body:has(#theme-switch:checked) .btn-primary {
  background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

body:has(#theme-switch:checked) .btn-primary:hover {
  box-shadow: 0 8px 24px rgba(79, 70, 229, 0.5);
}

body:has(#theme-switch:checked) .btn-ghost {
  background: transparent;
  border: 1px solid rgba(129, 140, 248, 0.3);
  color: var(--accent-2);
}

body:has(#theme-switch:checked) .btn-ghost:hover {
  background: rgba(129, 140, 248, 0.1);
  border-color: var(--accent-2);
}

/* Avatar */
body:has(#theme-switch:checked) .avatar {
  background: var(--glass);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

body:has(#theme-switch:checked) .avatar:hover {
  box-shadow: 0 8px 24px rgba(129, 140, 248, 0.4);
}

/* Featured project */
body:has(#theme-switch:checked) #featured-project {
  background: var(--card);
  border: 1px solid var(--border);
}

body:has(#theme-switch:checked) #featured-project::before {
  opacity: 0.2;
}

body:has(#theme-switch:checked) #featured-project:hover {
  background: var(--hover);
  border-color: rgba(129, 140, 248, 0.3);
}

body:has(#theme-switch:checked) #featured-project:hover::before {
  opacity: 0.35;
}

/* Tech stack cards */
body:has(#theme-switch:checked) .tech-card {
  background: var(--hover);
  border: 1px solid var(--border);
}

body:has(#theme-switch:checked) .tech-card:hover {
  background: var(--card);
  border-color: var(--accent-2);
  box-shadow: 0 8px 24px rgba(129, 140, 248, 0.2);
}

body:has(#theme-switch:checked) .tech-card img {
  opacity: 0.7;
  filter: brightness(1.2);
}

body:has(#theme-switch:checked) .tech-card:hover img {
  opacity: 1;
  filter: brightness(1.3);
}

/* Skills bars */
body:has(#theme-switch:checked) .bar {
  background: rgba(148, 163, 184, 0.1);
}

body:has(#theme-switch:checked) .bar > span {
  background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.4);
}

/* Timeline */
body:has(#theme-switch:checked) .timeline-item {
  border-color: var(--accent-2) !important;
}

body:has(#theme-switch:checked) .timeline-item::before {
  background: var(--accent-2);
  border-color: var(--card);
  box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.3);
}

body:has(#theme-switch:checked) .timeline-item:hover::before {
  box-shadow: 0 0 0 6px rgba(129, 140, 248, 0.4);
}

/* Hobbies */
body:has(#theme-switch:checked) .hobby {
  background: var(--card);
  border: 1px solid var(--border);
}

body:has(#theme-switch:checked) .hobby::before {
  opacity: 0.25;
  filter: brightness(0.8);
}

body:has(#theme-switch:checked) .hobby:hover {
  background: var(--hover);
  border-color: rgba(129, 140, 248, 0.3);
}

body:has(#theme-switch:checked) .hobby:hover::before {
  opacity: 0.4;
}

body:has(#theme-switch:checked) .hobby .muted {
  color: var(--muted);
}

/* Education section */
body:has(#theme-switch:checked) .univlogo img {
  filter: brightness(1.2);
  background: var(--glass);
  border-radius: 8px;
  padding: 8px;
}

body:has(#theme-switch:checked) #with-highest {
  background: linear-gradient(90deg, #fbbf24 0%, #f59e0b 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: brightness(1.2);
}

/* Form inputs */
body:has(#theme-switch:checked) input,
body:has(#theme-switch:checked) textarea {
  background: var(--hover);
  border: 1px solid var(--border);
  color: var(--accent);
}

body:has(#theme-switch:checked) input::placeholder,
body:has(#theme-switch:checked) textarea::placeholder {
  color: var(--muted);
}

body:has(#theme-switch:checked) input:focus,
body:has(#theme-switch:checked) textarea:focus {
  background: var(--card);
  border-color: var(--accent-2);
  box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.15);
}

/* Theme toggle button in dark mode */
body:has(#theme-switch:checked) .theme-toggle {
  background: rgba(241, 245, 249, 0.1);
  border: 1px solid rgba(241, 245, 249, 0.2);
}

body:has(#theme-switch:checked) .theme-toggle:hover {
  background: rgba(241, 245, 249, 0.2);
}

/* Language toggle button - FIXED (Removed Box) */
body:has(#theme-switch:checked) .lang-toggle {
  background: transparent;
  border: 1px solid transparent; /* Removes the box border */
  color: var(--muted);
}

body:has(#theme-switch:checked) .lang-toggle:hover {
  background: rgba(241, 245, 249, 0.1);
  color: var(--accent);
}

/* Footer */
body:has(#theme-switch:checked) .footer {
  color: var(--muted);
}

/* Scrollbar styling for dark mode */
body:has(#theme-switch:checked) ::-webkit-scrollbar {
  width: 12px;
}

body:has(#theme-switch:checked) ::-webkit-scrollbar-track {
  background: var(--bg);
}

body:has(#theme-switch:checked) ::-webkit-scrollbar-thumb {
  background: var(--hover);
  border-radius: 6px;
  border: 3px solid var(--bg);
}

body:has(#theme-switch:checked) ::-webkit-scrollbar-thumb:hover {
  background: var(--accent-2);
}

/* Selection color */
body:has(#theme-switch:checked) ::selection {
  background: rgba(129, 140, 248, 0.3);
  color: var(--accent);
}

/* Links */
body:has(#theme-switch:checked) a {
  color: var(--accent-2);
}

body:has(#theme-switch:checked) a:hover {
  color: #a5b4fc;
}

/* Glass effect for special elements */
body:has(#theme-switch:checked) .intro {
  backdrop-filter: blur(10px);
  background: rgba(30, 41, 59, 0.8);
}

/* Enhance box shadows in dark mode */
body:has(#theme-switch:checked) .tech-card::before {
  background: linear-gradient(90deg, transparent, rgba(129, 140, 248, 0.15), transparent);
}

/* Certification list */
body:has(#theme-switch:checked) #certifications ul {
  color: var(--muted);
}

body:has(#theme-switch:checked) #certifications li::marker {
  color: var(--accent-2);
}

/* Enhanced glow effects for dark mode */
body:has(#theme-switch:checked) .card:hover {
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.5),
              0 0 0 1px rgba(129, 140, 248, 0.2),
              0 0 20px rgba(129, 140, 248, 0.1);
}

body:has(#theme-switch:checked) .logo:hover {
  box-shadow: 0 8px 24px rgba(79, 70, 229, 0.6),
              0 0 40px rgba(129, 140, 248, 0.3);
}

/* Dark mode specific animations */
@keyframes darkGlow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(129, 140, 248, 0.2);
  }
  50% {
    box-shadow: 0 0 40px rgba(129, 140, 248, 0.4);
  }
}

body:has(#theme-switch:checked) .skill-bar-fill {
  animation: fillBar 1.5s ease-out forwards, darkGlow 3s ease-in-out infinite;
}